{"version":3,"file":"app.js","sources":["../../../../../preprocess/src/js/common-scripts.js","../../../../../preprocess/src/js/dashboard.js","../../../../../preprocess/src/js/main.js","../../../../../preprocess/src/js/publicWindow.js"],"names":["Script","jQuery","click","o","$","this","offset","diff","top","scrollTo","Math","abs","responsiveView","wSize","window","width","addClass","hide","removeClass","show","on","is","css","margin-left","niceScroll","styler","cursorcolor","cursorwidth","cursorborderradius","background","spacebarenabled","cursorborder","zindex","el","parents","children","hasClass","slideUp","slideDown","parent","remove","tooltip","each","i","find","html","animate","height","define","dashboard","init","customMenu","checkForm","customPaginator","body","eq","last","validateForm","data","form","isValid","dateReg","val","match","applyError","after","before","append","attr","setTimeout","empty","pagination","publicWindow","confirm","datepicker","regional","listActiv","ajaxContact","ajaxSearch","articleStyle","first","contact","ajax","method","url","Routing","generate","serializeArray","success","name","error","length","paragraph","replace"],"mappings":"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","sourcesContent":["var Script = function () {\r\n\r\n    jQuery('#sidebar .sub-menu > a').click(function () {\r\n        var o = ($(this).offset());\r\n        diff = 250 - o.top;\r\n        if(diff>0)\r\n            $(\"#sidebar\").scrollTo(\"-=\"+Math.abs(diff),500);\r\n        else\r\n            $(\"#sidebar\").scrollTo(\"+=\"+Math.abs(diff),500);\r\n    });\r\n\r\n    $(function() {\r\n        function responsiveView() {\r\n            var wSize = $(window).width();\r\n            if (wSize <= 768) {\r\n                $('#container').addClass('sidebar-close');\r\n                $('#sidebar > ul').hide();\r\n            }\r\n\r\n            if (wSize > 768) {\r\n                $('#container').removeClass('sidebar-close');\r\n                $('#sidebar > ul').show();\r\n            }\r\n        }\r\n        $(window).on('load', responsiveView);\r\n        $(window).on('resize', responsiveView);\r\n    });\r\n    \r\n    $('#sidebar').hide();\r\n    $('.fa-bars').click(function () {\r\n        if ($('#sidebar > ul').is(\":visible\") === true) {\r\n            $('#main-content').css({\r\n                'margin-left': '0px'\r\n            });\r\n            $('#sidebar').hide();\r\n            $('#sidebar > ul').hide();\r\n            $(\"#container\").addClass(\"sidebar-closed\");\r\n        } else {\r\n            $('#sidebar > ul').show();\r\n            $('#sidebar').show();\r\n            $(\"#container\").removeClass(\"sidebar-closed\");\r\n        }\r\n    });\r\n\r\n    $(\"#sidebar\").niceScroll({styler:\"fb\",cursorcolor:\"#9966FF\", cursorwidth: '2', cursorborderradius: '10px', background: '#666666', spacebarenabled:false, cursorborder: ''});\r\n\r\n    $(\"html\").niceScroll({styler:\"fb\",cursorcolor:\"#9966FF\", cursorwidth: '4', cursorborderradius: '10px', background: '#666666', spacebarenabled:false,  cursorborder: '', zindex: '1000'});\r\n\r\n    jQuery('.panel .tools .fa-chevron-down').click(function () {\r\n        var el = jQuery(this).parents(\".panel\").children(\".panel-body\");\r\n        if (jQuery(this).hasClass(\"fa-chevron-down\")) {\r\n            jQuery(this).removeClass(\"fa-chevron-down\").addClass(\"fa-chevron-up\");\r\n            el.slideUp(200);\r\n        } else {\r\n            jQuery(this).removeClass(\"fa-chevron-up\").addClass(\"fa-chevron-down\");\r\n            el.slideDown(200);\r\n        }\r\n    });\r\n\r\n    jQuery('.panel .tools .fa-times').click(function () {\r\n        jQuery(this).parents(\".panel\").parent().remove();\r\n    });\r\n\r\n    $('.tooltips').tooltip();\r\n\r\n    if ($(\".custom-bar-chart\")) {\r\n        $(\".bar\").each(function () {\r\n            var i = $(this).find(\".value\").html();\r\n            $(this).find(\".value\").html(\"\");\r\n            $(this).find(\".value\").animate({\r\n                height: i\r\n            }, 2000);\r\n        });\r\n    }\r\n\r\n\r\n}();","define('dashboard', function(){\r\n\r\n\r\n\tvar dashboard = {\r\n\t\t\r\n\t\tinit: function init(){\r\n\t\t\tthis.customMenu();\r\n\t\t\tthis.checkForm();\r\n\t\t\tthis.customPaginator();\r\n\t\t},\r\n\r\n\t\tcustomMenu: function customMenu() {\r\n\t    \tvar body = $('body');\r\n\r\n\t\t\tif (body.hasClass('dashboard')) {\r\n\t\t\t\t$('.public-menu').remove();\r\n\t\t\t}\r\n\t    \tif (body.hasClass('qcm')) {\r\n\t    \t\t$('.dash-menu').eq(1).find('a').addClass('active');\r\n\r\n\t    \t}else if(body.hasClass('article')){\r\n\t    \t\t$('.dash-menu').eq(2).find('a').addClass('active');\r\n\t    \t\r\n\t    \t}else if(body.hasClass('stats')){\r\n\t    \t\t$('.dash-menu').last().find('a').addClass('active');\r\n\t    \t}\r\n\t    },\r\n\r\n\t   \tcheckForm: function checkForm(){\r\n\t\t\t$('.form-validate').validateForm();\r\n\r\n\t\t\t// date format\r\n\t\t\t$('form[name=\"article\"]').data('check', function() {\r\n\t\t\t\tvar form = this;\r\n\t\t\t\tvar isValid = true;\r\n\t\t\t\tvar dateReg = /^\\d{2}([./])\\d{2}\\1\\d{4}$/;\r\n\r\n\t\t\t\tif (!$('#article_date').val().match(dateReg)) {\r\n\t\t\t\t\tisValid = false;\r\n\t\t\t\t\t$('form[name=\"article\"]').data('ValidateForm').applyError($('#article_date')[0]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn isValid;\r\n\t\t\t});\r\n\r\n\t\t\t// which side of website\r\n\t\t\tif ('.dashboard') {\r\n\t\t\t\t$('form').after('<span class=\"error-js\"></span>');\r\n\t\t\t}else{\r\n\t\t\t\t$('form').before('<span class=\"bottom-form error-js\"></span>');\r\n\t\t\t}\r\n\t\t\t// remove border input\r\n\t\t\t$('input, select, textarea').on('click', function(){\r\n\t\t\t\tif ($(this).is('.error')) {\r\n\t\t\t\t\t$(this).removeClass('error');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// on error \r\n\t\t\t$('input:not([type=\"checkbox\"]), select, textarea').on('error', function() {\r\n\t\t\t\t$('.error-js').append('<p class=\"centered error\">Le champ ' + $(this).attr('data-error') + ' est obligatoire</p>');\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t$('.error-js').empty();\r\n\t\t\t\t},2000);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tcustomPaginator: function customPaginator(){\r\n\t\t\tvar pagination = $('.pagination');\r\n\t\t\tpagination.find('.first a').html('<i class=\"fa fa-fast-backward\"></i>');\r\n\t\t\tpagination.find('.last a').html('<i class=\"fa fa-fast-forward\"></i>');\r\n\t\t\tpagination.find('.next a').html('<i class=\"fa fa-forward\"></i>');\r\n\t\t\tpagination.find('.previous a').html('<i class=\"fa fa-backward\"></i>');\r\n\t\t}\r\n\t};\r\n\treturn dashboard;\r\n});\r\n","define('main',['publicWindow','dashboard'], function(publicWindow, dashboard) {\r\n\r\n    dashboard.init();\r\n    publicWindow.init();\r\n\r\n    // modal\r\n    $('.btn-danger a').confirm();\r\n\r\n    // datepicker\r\n\t$(function() {\r\n\t\t$( \".datepicker\" ).datepicker($.datepicker.regional[ \"fr\" ]);\r\n\t});\r\n});\r\n","define('publicWindow', function(){\r\n\r\n\tvar publicWindow = {\r\n\r\n\t\tinit: function init(){\r\n\t\t\tthis.listActiv();\r\n\t\t\tthis.ajaxContact();\r\n\t\t\tthis.ajaxSearch();\r\n\t\t\tif ($('.public-window').is('.article')) {\r\n\t\t\t\tthis.articleStyle();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tlistActiv: function listActiv(){\r\n\t\t\tvar body = $('body');\r\n\r\n\t\t\tif (body.hasClass('public-window')) {\r\n\t\t\t\t$('.dash-menu').remove();\r\n\t\t\t}\r\n\t\t\tif (body.hasClass('home')) {\r\n\t\t\t\t$('.public-menu').first().find('a').addClass('active');\r\n\t\t\t}\r\n\t\t\telse if(body.hasClass('estate')){\r\n\t\t\t\t$('.sidebar-menu').find('li:eq(1)').find('a').addClass('active');\r\n\t\t\t}\r\n\t\t\telse if(body.hasClass('contact')){\r\n\t\t\t\t$('.sidebar-menu').find('li:eq(2)').find('a').addClass('active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tajaxContact: function contact(){\r\n\r\n\t\t\t$('.form-contact').data('beforesend', function() {\r\n\t\t\t\t$('.loading').addClass('on').removeClass('off');\r\n\t\t\t});\r\n\r\n\t\t\t$('.form-contact').data('onsuccess', function() {\r\n\t\t        $.ajax({\r\n\t\t        \tmethod: 'POST',\r\n\t\t        \turl: Routing.generate('splj.window.contact-save'),            \r\n\t\t            data:  $('.form-contact').serializeArray(),\r\n\t\t            success: function(data){\r\n\t\t            \t$('.loading').addClass('off').removeClass('on');\r\n\t\t            \t$('.centered').addClass('w100');\r\n\t\t            \t$('.form-contact').remove();\r\n\t\t            \t$('.centered').append('<p>Merci '+ data.name +'. Votre message a été envoyé !</p>');\r\n\t\t            },\r\n\t\t            error: function(error){\r\n\t\t            \t$('.loading').addClass('off').removeClass('on');\r\n\t\t            \t$('.centered').addClass('w100');\r\n\t\t            \t$('.form-contact').remove();\r\n\t\t            \t$('.centered').append('<div class=\"error-js\"><p class=\"error\">Une erreur est survenue. Tu sais pas compter ?!</p><div>');\r\n\t\t            \t\r\n\t\t            \t\r\n\t\t            }\r\n\t        \t});   \r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tajaxSearch: function ajaxSearch(){\r\n\r\n\t\t\t$('.form-search').data('beforesend', function() {\r\n\t\t\t\t$('.loading').addClass('on').removeClass('off');\r\n\t\t\t});\r\n\r\n\t\t\t$('.form-search').data('onsuccess', function() {\r\n\t\t        $.ajax({\r\n\t\t        \tmethod: 'POST',\r\n\t\t        \turl: Routing.generate('splj.window.go-search'),            \r\n\t\t            data:  $('.form-search').serializeArray(),\r\n\t\t            success: function(data){\r\n\t\t\t            $('.loading').addClass('off').removeClass('on');\r\n\t\t            \tif (data.length !== 0) {\r\n\t\t\t            \t$('.wrap-list').empty();\r\n\t\t\t            \t$('.wrap-list').html(data);\r\n\t\t            \t}else{\r\n\t\t\t            \t$('.wrap-list').empty();\r\n\t\t            \t\t$('.wrap-list').append('<p>Aucun article correspondant</p>');\r\n\t\t            \t}\r\n\t\t            },\r\n\t\t            error: function(error){\r\n\t\t\t            $('.loading').addClass('off').removeClass('on');\r\n\t\t            \t$('.wrap-list').append('<p>Une erreur est survenue</p>');\r\n\t\t            }\r\n\t        \t});   \r\n\t\t\t});\r\n\t\t}, \r\n\r\n\t\tarticleStyle: function articleStyle(){\r\n\t\t\tvar paragraph = $('.paragraph');\r\n  \t\t\tparagraph.html(paragraph.html().replace(/BR/ig, '<br>'));\r\n\t\t}\r\n\t};\r\n\treturn publicWindow;\r\n});\r\n"]}