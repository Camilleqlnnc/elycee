{"version":3,"file":"app.js","sources":["../../../../../preprocess/src/js/common-scripts.js","../../../../../preprocess/src/js/dashboard.js","../../../../../preprocess/src/js/main.js","../../../../../preprocess/src/js/publicWindow.js"],"names":["$","dcAccordion","eventType","autoClose","saveState","disableLink","speed","showCount","autoExpand","classExpand","Script","jQuery","click","o","this","offset","diff","top","scrollTo","Math","abs","responsiveView","wSize","window","width","addClass","hide","removeClass","show","on","is","css","margin-left","niceScroll","styler","cursorcolor","cursorwidth","cursorborderradius","background","spacebarenabled","cursorborder","zindex","el","parents","children","hasClass","slideUp","slideDown","parent","remove","tooltip","popover","each","i","find","html","animate","height","define","dashboard","init","customMenu","checkForm","confirmDialog","body","attr","eq","last","validateForm","after","before","append","setTimeout","confirm","publicWindow","listActiv","contact","first","data","ajax","method","url","Routing","generate","serializeArray","success","name","error"],"mappings":"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","sourcesContent":["/*---LEFT BAR ACCORDION----*/\r\n$(function() {\r\n    $('#nav-accordion').dcAccordion({\r\n        eventType: 'click',\r\n        autoClose: true,\r\n        saveState: true,\r\n        disableLink: true,\r\n        speed: 'slow',\r\n        showCount: false,\r\n        autoExpand: true,\r\n//        cookie: 'dcjq-accordion-1',\r\n        classExpand: 'dcjq-current-parent'\r\n    });\r\n});\r\n\r\nvar Script = function () {\r\n\r\n//    sidebar dropdown menu auto scrolling\r\n\r\n    jQuery('#sidebar .sub-menu > a').click(function () {\r\n        var o = ($(this).offset());\r\n        diff = 250 - o.top;\r\n        if(diff>0)\r\n            $(\"#sidebar\").scrollTo(\"-=\"+Math.abs(diff),500);\r\n        else\r\n            $(\"#sidebar\").scrollTo(\"+=\"+Math.abs(diff),500);\r\n    });\r\n\r\n\r\n\r\n//    sidebar toggle\r\n\r\n    $(function() {\r\n        function responsiveView() {\r\n            var wSize = $(window).width();\r\n            if (wSize <= 768) {\r\n                $('#container').addClass('sidebar-close');\r\n                $('#sidebar > ul').hide();\r\n            }\r\n\r\n            if (wSize > 768) {\r\n                $('#container').removeClass('sidebar-close');\r\n                $('#sidebar > ul').show();\r\n            }\r\n        }\r\n        $(window).on('load', responsiveView);\r\n        $(window).on('resize', responsiveView);\r\n    });\r\n\r\n    $('.fa-bars').click(function () {\r\n        if ($('#sidebar > ul').is(\":visible\") === true) {\r\n            $('#main-content').css({\r\n                'margin-left': '0px'\r\n            });\r\n            $('#sidebar').hide();\r\n            $('#sidebar > ul').hide();\r\n            $(\"#container\").addClass(\"sidebar-closed\");\r\n        } else {\r\n            $('#sidebar > ul').show();\r\n            $('#sidebar').show();\r\n            $(\"#container\").removeClass(\"sidebar-closed\");\r\n        }\r\n    });\r\n\r\n// custom scrollbar\r\n    $(\"#sidebar\").niceScroll({styler:\"fb\",cursorcolor:\"#9966FF\", cursorwidth: '2', cursorborderradius: '10px', background: '#666666', spacebarenabled:false, cursorborder: ''});\r\n\r\n    $(\"html\").niceScroll({styler:\"fb\",cursorcolor:\"#9966FF\", cursorwidth: '4', cursorborderradius: '10px', background: '#666666', spacebarenabled:false,  cursorborder: '', zindex: '1000'});\r\n\r\n// widget tools\r\n\r\n    jQuery('.panel .tools .fa-chevron-down').click(function () {\r\n        var el = jQuery(this).parents(\".panel\").children(\".panel-body\");\r\n        if (jQuery(this).hasClass(\"fa-chevron-down\")) {\r\n            jQuery(this).removeClass(\"fa-chevron-down\").addClass(\"fa-chevron-up\");\r\n            el.slideUp(200);\r\n        } else {\r\n            jQuery(this).removeClass(\"fa-chevron-up\").addClass(\"fa-chevron-down\");\r\n            el.slideDown(200);\r\n        }\r\n    });\r\n\r\n    jQuery('.panel .tools .fa-times').click(function () {\r\n        jQuery(this).parents(\".panel\").parent().remove();\r\n    });\r\n\r\n\r\n//    tool tips\r\n\r\n    $('.tooltips').tooltip();\r\n\r\n//    popovers\r\n\r\n    $('.popovers').popover();\r\n\r\n\r\n\r\n// custom bar chart\r\n\r\n    if ($(\".custom-bar-chart\")) {\r\n        $(\".bar\").each(function () {\r\n            var i = $(this).find(\".value\").html();\r\n            $(this).find(\".value\").html(\"\");\r\n            $(this).find(\".value\").animate({\r\n                height: i\r\n            }, 2000);\r\n        });\r\n    }\r\n\r\n\r\n}();","define('dashboard', function(){\r\n\r\n\r\n\tvar dashboard = {\r\n\t\t\r\n\t\tinit: function init(){\r\n\t\t\tthis.customMenu();\r\n\t\t\tthis.checkForm();\r\n\t\t\tthis.confirmDialog();\r\n\t\t},\r\n\r\n\t\tcustomMenu: function customMenu() {\r\n\t    \tvar body = $('body');\r\n\r\n\t\t\tif (body.hasClass('dashboard')) {\r\n\t\t\t\t$('.public-menu').remove();\r\n\t\t\t}\r\n\t    \tif (body.hasClass('dashboard')) {\r\n\t    \t\t$('.wrap-logo img').attr('src','/bundles/splj/img/logo_60_grey.jpg');\r\n\t    \t\t$('#main-content .col-lg-3').remove();\r\n\t    \t\t$('#main-content .col-lg-9').removeClass().addClass('col-lg-12 main-chart');\r\n\r\n\t    \t}\r\n\t    \tif (body.hasClass('qcm')) {\r\n\t    \t\t$('.dash-menu').eq(1).find('a').addClass('active');\r\n\r\n\t    \t}else if(body.hasClass('article')){\r\n\t    \t\t$('.dash-menu').eq(2).find('a').addClass('active');\r\n\t    \t\r\n\t    \t}else if(body.hasClass('stats')){\r\n\t    \t\t$('.dash-menu').last().find('a').addClass('active');\r\n\t    \t}\r\n\t    },\r\n\r\n\t   \tcheckForm: function checkForm(){\r\n\t\t\t$('form').validateForm();\r\n\r\n\t\t\t// which side of website\r\n\t\t\tif ('.dashboard') {\r\n\t\t\t\t$('form').after('<span class=\"error-js\"></span>');\r\n\t\t\t}else{\r\n\t\t\t\t$('form').before('<span class=\"bottom-form error-js\"></span>');\r\n\t\t\t}\r\n\t\t\t// remove border input\r\n\t\t\t$('input, select, textarea').on('click', function(){\r\n\t\t\t\tif ($(this).is('.error')) {\r\n\t\t\t\t\t$(this).removeClass('error');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// on error \r\n\t\t\t$('input, select, textarea').on('error', function() {\r\n\t\t\t\t$('.error-js').append('<p class=\"centered error\">Le champ ' + $(this).attr('data-error') + ' est obligatoire</p>');\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t// $('.error-js').empty();\r\n\t\t\t\t},2000);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tconfirmDialog: function confirm(){\r\n\t\t\t$('.btn-danger a').confirm();\r\n\t\t}\r\n\t};\r\n\treturn dashboard;\r\n});\r\n","define('main',['publicWindow','dashboard'], function(publicWindow, dashboard) {\r\n\r\n    dashboard.init();\r\n    publicWindow.init();\r\n\r\n});\r\n","define('publicWindow', function(){\r\n\r\n\tvar publicWindow = {\r\n\r\n\t\tinit: function init(){\r\n\t\t\tthis.listActiv();\r\n\t\t\tthis.contact();\r\n\t\t},\r\n\r\n\t\tlistActiv: function listActiv(){\r\n\t\t\tvar body = $('body');\r\n\r\n\t\t\tif (body.hasClass('public-window')) {\r\n\t\t\t\t$('.dash-menu').remove();\r\n\t\t\t}\r\n\t\t\tif (body.hasClass('home')) {\r\n\t\t\t\t$('.public-menu').first().find('a').addClass('active');\r\n\t\t\t}\r\n\t\t\telse if(body.hasClass('estate')){\r\n\t\t\t\t$('.sidebar-menu').find('li:eq(1)').find('a').addClass('active');\r\n\t\t\t}\r\n\t\t\telse if(body.hasClass('contact')){\r\n\t\t\t\t$('.sidebar-menu').find('li:eq(2)').find('a').addClass('active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcontact: function contact(){\r\n\r\n\t\t\t$('.form-contact').data('beforesend', function() {\r\n\t\t\t\t$('.loading').addClass('on').removeClass('off');\r\n\t\t\t});\r\n\r\n\t\t\t$('.form-contact').data('onsuccess', function() {\r\n\t\t        $.ajax({\r\n\t\t        \tmethod: 'POST',\r\n\t\t        \turl: Routing.generate('splj.window.contact-save'),            \r\n\t\t            data:  $('.form-contact').serializeArray(),\r\n\t\t            success: function(data){\r\n\t\t            \t$('.loading').addClass('inactive off').removeClass('active on');\r\n\t\t            \t$('.centered').addClass('w100');\r\n\t\t            \t$('.form-contact').remove();\r\n\t\t            \t$('.centered').append('<p>Merci '+ data.name +'. Votre message a été envoyé !</p>');\r\n\t\t            },\r\n\t\t            error: function(error){\r\n\t\t            \t$('.loading').addClass('inactive off').removeClass('active on');\r\n\t\t            \t$('.centered').addClass('w100');\r\n\t\t            \t$('.form-contact').remove();\r\n\t\t            \t$('.centered').append('<div class=\"error-js\"><p class=\"error\">Une erreur est survenue. Tu sais pas compter ?!</p><div>');\r\n\t\t            \t\r\n\t\t            \t\r\n\t\t            }\r\n\t        \t});   \r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\treturn publicWindow;\r\n});\r\n"]}